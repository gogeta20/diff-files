# ğŸš€ Release v1.3.0 - SDK HAL DNS

ğŸ“… **Date:** 2026-01-27
ğŸ·ï¸ **Tag:** v1.3.0
ğŸ”– **Previous Tag:** v1.2.1
ğŸŸ¡ **Type:** MINOR (New features, backward compatible)

---

## ğŸ“‹ Summary

This release adds a new 404 response to `/api/zones/import` endpoint for handling cluster not found errors.

### Changes Detected

- ğŸŸ¡ **Modified endpoint:** `/api/zones/import`
- ğŸŸ¢ **Added:** Response 404 (Cluster not found)
- âœ… **Impact:** MINOR - New feature, backward compatible

---

## ğŸ”€ Branches Compared

- ğŸ”µ **OLD (base):** `main` from `without/php-hal-dns`
- ğŸŸ¢ **NEW (current):** `feature/PROD-3958-openapi-endpoint-examples` from `php-hal-dns`

---

## ğŸ“Š Detailed Changes

### `/api/zones/import` [POST]

**Added Response:**
```php
new NotFoundResponse(
    description: 'Cluster {cluster} not found',
    errorCode: ClusterNotFoundException::ERROR_CODE,
    errorTitle: 'Cluster not found zone',
    pointerExample: '/api/zones/import',
)
```

**Before (main):** Only had CreatedResponse, ValidationErrorResponse, ErrorResponse (409), InternalServerErrorResponse

**After (feature):** Added NotFoundResponse (404) for cluster not found scenarios

---

## ğŸ“„ Documentation

See attached files:
- `2026-01-27-feature-PROD-3958-openapi-endpoint-examples.md` - Python diff tool results
- `2026-01-27-feature-PROD-3958-openapi-endpoint-examples-gitdiff.md` - Git diff line-by-line

---

## âœ… Actions to Take

Since this is a **MINOR** release:

1. âœ… Safe to regenerate SDK (backward compatible)
2. ğŸ“ Update changelog with new 404 response
3. ğŸ·ï¸ Create tag: `v1.3.0`
4. ğŸ“¦ Publish new SDK version
5. ğŸ“¢ Notify API consumers about new error response (optional, non-breaking)

### Commands to Execute

```bash
# 1. Review changes
cd ~/projects/main
make openapi-gitdiff-show

# 2. If approved, copy to SDK generator
make openapi-copy

# 3. Regenerate SDK
make sdk-generate

# 4. Create git tag in SDK repo
cd ~/projects/jotelulu/php-bundle-client-hal-dns
git tag v1.3.0
git push origin v1.3.0

# 5. Publish to packagist/composer (if automated)
```

---

## ğŸ” Technical Details

### Files Changed in php-hal-dns

**Modified:**
- `src/Zone/Infrastructure/Controller/Import/ZoneImportController.php`
  - Lines 62-67: Added NotFoundResponse for ClusterNotFoundException

**Impact:**
- API consumers can now handle 404 responses when cluster doesn't exist
- Backward compatible: existing clients continue working, new clients can handle 404

### OpenAPI Changes

**OLD (main):**
- 2835 lines
- 128 UUIDs, 110 timestamps, 16 serverNames/IDs normalized

**NEW (feature):**
- 2895 lines (+60 lines for new response documentation)
- 141 UUIDs, 126 timestamps, 85 serverNames/IDs normalized

---

## ğŸ“š Related Documentation

- See main README: `/home/mauricio-vargas/projects/personal/diff-files/README.md`
- Workflow guide in README includes all available commands
- Version bump logic explained in detail

---

## âœ¨ System Improvements (This Release Cycle)

During this release cycle, the following improvements were made to the diff system:

1. âœ… Fixed normalization for 10-15 character IDs (was only 13-char)
2. âœ… Added emoji badges to reports (ğŸŸ¢ Added, ğŸ”´ Removed, ğŸŸ¡ Modified)
3. âœ… Added cleanup of .backup and .yaml files from gitdiff/
4. âœ… Improved documentation with visual indicators
5. âœ… Added workflow summary with version bump recommendations

---

Generated by OpenAPI Diff System
See: `/home/mauricio-vargas/projects/main/devops/mk/openapi.mk`
